buildscript {
    repositories {
        jcenter()
    }
    dependencies {
        classpath 'com.android.tools.build:gradle:1.0.+'
    }
}

allprojects {
    repositories {
        jcenter()
    }
}

ext {
    buildNumber = makeBuildNumber()
    versionName = makeVersionName()
}

String makeVersionName() {
    return "4.5." + makeBuildNumber();
}

int makeBuildNumber() {
    def buildNumber = 1;
    if (project.hasProperty("teamcity")) {
        buildNumber = Integer.parseInt(project.teamcity['build.number'])
    } else if (project.hasProperty("build.number")) {
        buildNumber = Integer.parseInt(project.properties['build.number'])
    }
    return buildNumber;
}